allprojects {
  group   = 'de.materna.cms.merkur'
  version = '0.1'
}

subprojects {
  apply from: 'http://www.tellurianring.com/projects/gradle-plugins/gradle-templates/apply.groovy'
  apply plugin: 'java'
  apply plugin: 'eclipse'

  ext.springVersion     = '4.0.0.M2'
  ext.slf4jVersion      = '1.7.5'
  ext.junitVersion      = '4.11'
  ext.hamcrestVersion   = '1.3'

  dependencies {
    compile("org.springframework:spring-context:$springVersion")
    compile("org.slf4j:slf4j-log4j12:$slf4jVersion")
    
    testCompile("junit:junit:$junitVersion")
    testCompile("org.hamcrest:hamcrest-all:$hamcrestVersion")
  }
  
  configurations {
    all*.exclude module: 'hamcrest-core'
  }

  repositories {
    mavenCentral()
    maven {
      url 'http://repo.springsource.org/libs-milestone'
    }
  }
}

task installErlangOpenSuse(type:Exec) {
  description = 'Erlang unter OpenSuse installieren(für RabbitMQ benötigt)'
  commandLine 'sudo','zypper','in','erlang'
}
